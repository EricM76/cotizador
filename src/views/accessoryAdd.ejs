<!DOCTYPE html>
<html>
<%- include('partials/head',{ title : "Cotizador de cortinas" }) %>

  <body>
    <%- include('partials/header') %>
      <main class="container">
        <section class="col-12 mt-5 mx-auto">
          <article class="card shadow">
            <form action="/accessories/add" method="POST" class="needs-validation" novalidate>

            <div class="card-header d-flex justify-content-between">
              <h5>
                Nuevo Accesorio
              </h5>
              <div>
               

                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" checked value="1" id="visible" name="visible">
                    <label class="form-check-label" for="visible">
                      Visible
                    </label>
                  </div>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-12 col-md-4 mb-3">
                  <label for="name" class="form-label">Nombre</label>
                  <input type="text" class="form-control" id="name"
                    name="name" required/>
                    <div class="invalid-feedback">
                      El nombre es requerido
                    </div>
                </div>
                <div class="col-12 col-md-4 mb-3">
                  <label for="price" class="form-label">Precio</label>
                  <input type="number" class="form-control" id="price" name="price" required/>
                  <div class="invalid-feedback">
                    El precio es requerido
                  </div>
                </div>
                <div class="col-12 col-md-4 mb-3">
                  <label for="idLocal" class="form-label">ID Local</label>
                  <input type="number" class="form-control" id="idLocal" name="idLocal" required/>
                  <div class="invalid-feedback">
                    El ID local es requerido
                  </div>
                </div>
                <div class="col-12 col-md-4" hidden>
                  <label class="form-label"><b>Telas</b></label>
                  <div class="row">
                    <div class="col-12 col-md-6">
                      <% cloths.forEach((cloth,index)=> { %>
                        <% if (index < cloths.length / 2) { %>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="<%= cloth.id %>"
                              id="cloths<%= cloth.id %>" name="cloths" readonly>
                            <label class="form-check-label" for="cloths<%= cloth.id %>">
                              <%= cloth.name %>
                            </label>
                          </div>
                          <% } %>

                            <% }) %>
                    </div>
                    <div class="col-12 col-md-6 " hidden>
                      <% for( let i=cloths.length / 2; i < cloths.length; i++ ) { %>
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="<%= cloths[i].id %>"
                            id="cloths<%= cloths[i].id %>"
                          name="cloths" readonly>
                          <label class="form-check-label" for="cloths<%= cloths[i].id %>">
                            <%= cloths[i].name %>
                          </label>
                        </div>
                        <% } %>
                    </div>
                  </div>
                </div>

                <div class="col-12 col-md-3 col-lg-2 mb-3" hidden>

                  <label for="colors" class="form-label"><b>Colores</b> </label>

                  <% colors.forEach(color=> { %>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="colors<%= color.id %>"
                      value="<%= color.id %>" name="colors" readonly>
                        <label class="form-check-label" for="colors<%= color.id %>">
                          <%= color.name %>
                        </label>
                    </div>
                    <% }) %>
                </div>
                <div class="col-12 col-md-3 col-lg-2 mb-3" hidden>
                  <label for="supports" class="form-label"><b>Soportes</b> </label>
                  <% supports.forEach(support=> { %>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="<%= support.id %>"
                        id="supports<%= support.id %>" name="supports" readonly>
                      <label class="form-check-label" for="supports<%= support.id %>">
                        <%= support.name %>
                      </label>
                    </div>
                    <% }) %>
                </div>
                <div class="col-12 col-md-3 col-lg-2 mb-3" hidden>
                  <label for="patterns" class="form-label"><b>Modelos</b> </label>
                  <% patterns.forEach(pattern=> { %>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="<%= pattern.id %>"
                        id="patterns<%= pattern.id %>" name="patterns" readonly>
                      <label class="form-check-label" for="patterns<%= pattern.id %>">
                        <%= pattern.name %>
                      </label>
                    </div>
                    <% }) %>
                </div>
                <div class="col-12 col-md-4 col-lg-2 mb-3" hidden>
                  <label for="chains" class="form-label"><b>Cadenas</b> </label>
                  <% chains.forEach(chain=> { %>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="<%= chain.id %>"
                        id="chains<%= chain.id %>" name="chains" readonly>
                      <label class="form-check-label" for="chains<%= chain.id %>">
                        <%= chain.name %>
                      </label>
                    </div>
                    <% }) %>
                </div>

                <div class="text-end">
                  <a href="/accessories" class="btn btn-secondary mb-2">Volver a accesorios</a>
                  <button type="submit" class="btn buttons__btn-custom mb-2">Guardar cambios</button>
                </div>
              </div>
              </form>

            </div>
          </article>
        </section>
      </main>
      <%- include('partials/footer') %>
        <%- include('partials/scripts') %>

  </body>

</html>